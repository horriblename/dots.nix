;; NOTE scripts/dock.json must be first generated!
(deflisten lDock
  :initial '[]'
  `jaq -c '.' scripts/dock.json`)

(defwidget dock []
    (box
      (for app in lDock
        (eventbox :onclick "eww close dock && ${app.exec}"
                  :tooltip {app.name}
          (image :path {app.icon}
                 :image-width 48)))))

(defwindow dock
  :monitor 0
  :geometry (geometry
    :anchor "center bottom"
    :width "80%"
    :height "50px")
  (dock))
